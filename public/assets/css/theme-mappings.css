/* Light/Dark theme mappings to ensure all components reflect current theme */

/* Base light/dark mappings */

/* When glassmorphism is active, prefer transparent surfaces so wallpaper shows */
html[data-theme^="glassmorphism"] {
  /* Angular Material cards */
  --glass-surface-fallback: rgba(255,255,255,0.55);
}
html[data-theme^="glassmorphism"] .mat-mdc-card, 
html[data-theme^="glassmorphism"] .mdc-card,
html[data-theme^="glassmorphism"] .mat-mdc-select-panel, 
html[data-theme^="glassmorphism"] .mat-mdc-autocomplete-panel, 
html[data-theme^="glassmorphism"] .mat-mdc-menu-panel, 
html[data-theme^="glassmorphism"] .mdc-menu-surface,
html[data-theme^="glassmorphism"] .mat-datepicker-content,
html[data-theme^="glassmorphism"] .cdk-overlay-pane .mat-mdc-tooltip-panel,
html[data-theme^="glassmorphism"] .mat-mdc-dialog-container .mdc-dialog__surface,
html[data-theme^="glassmorphism"] .mat-mdc-snack-bar-container .mdc-snackbar__surface,
html[data-theme^="glassmorphism"] .mat-mdc-table, 
html[data-theme^="glassmorphism"] .mat-mdc-row, 
html[data-theme^="glassmorphism"] .mat-mdc-header-row, 
html[data-theme^="glassmorphism"] .mat-mdc-list-item,
html[data-theme^="glassmorphism"] .ng-select .ng-select-container,
html[data-theme^="glassmorphism"] .ng-dropdown-panel,
html[data-theme^="glassmorphism"] .flatpickr-calendar,
html[data-theme^="glassmorphism"] .toast-container .ngx-toastr {
  background: var(--glass-surface, var(--glass-surface-fallback)) !important;
  border-color: var(--glass-border) !important;
  color: var(--glass-text) !important;
}

html[data-theme-mode="light"],
html[data-theme-mode="dark"] {
  /* Angular Material cards */
  .mat-mdc-card, .mdc-card {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 0 !important;
  }
  /* Buttons are mostly themed by Material palettes; keep readable text */
  .mat-mdc-raised-button, .mat-mdc-unelevated-button, .mat-mdc-fab, .mat-mdc-mini-fab {
    color: var(--default-text-color);
  }
  /* Form fields */
  .mat-mdc-form-field .mdc-text-field, .mdc-text-field {
    background: var(--form-control-bg) !important;
    color: var(--default-text-color) !important;
  }
  .mat-mdc-input-element, .mdc-text-field__input {
    color: var(--default-text-color) !important;
  }
  /* Overlay-based components */
  .mat-mdc-select-panel, .mat-mdc-autocomplete-panel, .mat-mdc-menu-panel, .mdc-menu-surface,
  .mat-datepicker-content, .cdk-overlay-pane .mat-mdc-tooltip-panel {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 1px solid var(--default-border) !important;
  }
  /* Tables & lists */
  .mat-mdc-table, .mat-mdc-row, .mat-mdc-header-row, .mat-mdc-list-item {
    background: var(--custom-white);
    color: var(--default-text-color);
  }
  /* Dialogs & snackbars */
  .mat-mdc-dialog-container .mdc-dialog__surface,
  .mat-mdc-snack-bar-container .mdc-snackbar__surface {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 0 !important;
  }
  /* ng-select */
  .ng-select .ng-select-container {
    background: var(--form-control-bg) !important;
    color: var(--default-text-color) !important;
    border-color: var(--input-border) !important;
  }
  .ng-dropdown-panel {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 1px solid var(--default-border) !important;
  }
  /* flatpickr */
  .flatpickr-calendar {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 1px solid var(--default-border) !important;
  }
  .flatpickr-day.selected,
  .flatpickr-day.startRange,
  .flatpickr-day.endRange {
    color: var(--default-text-color) !important;
  }
  /* ngx-toastr */
  .toast-container .ngx-toastr {
    background: var(--custom-white) !important;
    color: var(--default-text-color) !important;
    border: 1px solid var(--default-border) !important;
  }
}
